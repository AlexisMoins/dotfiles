# tmux configuration
# Author: Alexis Moins
# Creation: 13 aoÃ» 2021

# Sets Ë†Q as the new prefix
unbind C-b
set -g prefix 'C-q'
bind-key 'C-q' send-prefix

# Force tmux to open login shells and source .zprofile
set -g default-command "zsh --login"
set -g mouse on

# Vi mode
set -g mode-keys vi
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send -X copy-selection-and-cancel

# Statusline and stuff
set -g status-left ""
set -g status-interval 60

set -g status-style fg=colour8,bg=colour0
set -g status-right "%H:%M ðŸ“– #[fg=colour5][#S] "

set -g base-index 1
set -g pane-base-index 1
set -g renumber-windows on

set -g bell-action none
set -g message-style fg=colour1
set -g mode-style bg=colour15
set -g default-terminal "screen-256color"

# Formats
set -g window-status-style fg=colour8
set -g window-status-format " #W#{?window_zoomed_flag,#[fg=colour2]Z, } "

set -g window-status-current-style fg=colour8
set -g window-status-current-format " #[fg=default]#W#[fg=colour2]*#{?window_zoomed_flag,Z, }"

set -g pane-border-style fg=colour0,bg=colour0
set -g pane-active-border-style fg=colour0,bg=colour0

# Keybindings
# Use 'r' to source the tmux config file
bind r source-file "${HOME}/.tmux.conf"

# Use 'n' & 'p' to cycle through the available windows
bind -r n next-window
bind -r p previous-window

bind = select-layout even-horizontal

unbind z
bind z resize-pane -Z

# Create a new horizontal pane
bind s split-window -v -c "#{pane_current_path}"

# Create a new vertical pane
bind v split-window -h -c "#{pane_current_path}"

# Use 'h', 'j', 'k' & 'l' to change focus of pane
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Use 'J' & 'K' to move panes around
bind -r J swap-pane -D
bind -r K swap-pane -U

# Use '<' & '>' to move windows around
bind -r < swap-window -d -t -1
bind -r > swap-window -d -t +1


# Fig Tmux Integration: Enabled
source-file ~/.fig/tmux
# End of Fig Tmux Integration
